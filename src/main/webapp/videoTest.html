<!DOCTYPE html>
<html class="w h">

<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no" />
    <!--禁用电话号码识别-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>study-wap</title>
    <link href="css/video-js.css" rel="stylesheet">
    <script type="text/javascript" src="js/video/video.js"></script>
    <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
</head>

<body >
    <div style="width:500px;height: 300px;">
        <video id="my-video" class="video-js vjs-default-skin vjs-big-play-centered vjs-16-9" controls
            preload="none" poster="" data-setup="{}" webkit-playsinline=""
            playsinline="" x5-playsinline="" x-webkit-airplay="allow" x5-video-player-type="h5"
            x5-video-player-fullscreen="false" x5-playsinline="true">
            <input type="text" id="aa" value="0">
        </video>
    </div>
    <div>
        <input type="text" id="testHttp" style="width: 400px;">
        <input type="text" id="testUrl" style="width: 400px;">
        <button onclick="videoTest()">Test</button>
    </div>
</body>
<script>
var player = videojs('my-video');
player.ready(function() {
    var myPlayer = this;
    //myPlayer.play();
    this.on('pause', function() {
        tag = false;
    });
    //播放事件监听
    this.on('play', function() {
        tag = true;
    });
    this.on('canplaythrough', function() {

    });
    this.on('ended', function() {
        tag = false;
        timeDisplay = Math.floor(player.currentTime());
        //videoRecordEnd(timeDisplay);
    });
});
function videoTest(){
    var url = $("#testUrl").val();
    url = $("#testHttp").val()+"/media/"+url+"/"+url+".m3u8";
    var myPlayer = videojs('my-video');
    myPlayer.src(url);
    myPlayer.load();
    myPlayer.play();
}
</script>

</html>